{% set current_path = app.request.get('_route') %}
{% set selectedClass = "flex items-center bg-primary text-white py-4 px-2 my-2 rounded-lg" %}
{% set notSelectedClass = "flex items-center p-2" %}


<div id="sidebar" class="
    flex flex-col
    h-screen
    min-w-[160px]
    text-md font-semibold
    justify-between
    items-center
    py-4
    shadow-lg
">

    <div class="w-100">
        {% if is_granted('ROLE_ADMIN') %}
            <div class="{{current_path == "app_users" ? selectedClass : notSelectedClass}}">
                <div class="w-6 h-6 cursor-pointer mr-1">
                    {{ heroicon('users', '', 'outline') }}
                </div>
                <a href='{{ path('app_users') }}'>Utilisateurs</a>
            </div>
        {% endif %}


        <div class="{{current_path == "app_dashboard" ? selectedClass : notSelectedClass}}">
            <div class="w-6 h-6 cursor-pointer mr-1">
                {{ heroicon('presentation-chart-line', '', 'outline') }}
            </div>
            <a href='{{ path('app_dashboard') }}'>Dashboard</a>
        </div>

        <div class="{{current_path == "app_establishment" ? selectedClass : notSelectedClass}}">
            <div class="w-6 h-6 cursor-pointer mr-1">
                {{ heroicon('office-building', '', 'outline') }}
            </div>
            <a href='{{ path('app_establishment') }}'>Etablissements</a>
        </div>

        <div class="{{current_path == "app_tables" ? selectedClass : notSelectedClass}}">
            <div class="w-6 h-6 cursor-pointer mr-1">
                {{ heroicon('template', '', 'outline') }}
            </div>
            <a href='{{ path('app_tables') }}'>Tables</a>
        </div>

        <div class="{{current_path == "app_ingredient" ? selectedClass : notSelectedClass}}">
            <div class="w-6 h-6 cursor-pointer mr-1">
                {{ heroicon('tag', '', 'outline') }}
            </div>
            <a href='{{ path('app_ingredient') }}'>Ingrédients</a>
        </div>

        <div class="{{current_path == "app_category_ingredient" ? selectedClass : notSelectedClass}}">
            <div class="w-4 h-4 cursor-pointer mr-1 ml-2">
                {{ heroicon('arrow-right', '', 'outline') }}
            </div>
            <a href='{{ path('app_category_ingredient') }}'>Catégories</a>
        </div>

        <div class="{{current_path == "app_menu" ? selectedClass : notSelectedClass}}">
            <div class="w-6 h-6 cursor-pointer mr-1">
                {{ heroicon('view-boards', '', 'outline') }}
            </div>
            <a href='{{ path('app_menu') }}'>Menus</a>
        </div>

        <div class="{{current_path == "app_category_menu" ? selectedClass : notSelectedClass}}">
            <div class="w-4 h-4 cursor-pointer mr-1 ml-2">
                {{ heroicon('arrow-right', '', 'outline') }}
            </div>
            <a href='{{ path('app_category_menu') }}'>Catégories</a>
        </div>
    </div>

	<div x-data="{ dropdownOpen: false }" class="relative items-bottom bg-gray-100">
        <button @click="dropdownOpen = !dropdownOpen" class="w-10 h-10 relative z-10 block rounded-md bg-gray-100 p-2 focus:outline-none">
            {{ heroicon('user-circle', '', 'outline') }}
		</button>

		<div x-show="dropdownOpen" @click="dropdownOpen = false" class="fixed inset-0 h-full w-full z-10"></div>

		<div x-show="dropdownOpen" class="absolute bottom-6 left-6 mt-2 py-2 w-48 bg-white rounded-md shadow-xl z-20">
			<a href='{{ path('app_account') }}' class="block px-4 py-2 text-sm capitalize text-gray-700 hover:bg-blue-500 hover:text-white">
				Mon compte
			</a>
			<a href='{{ path('app_logout') }}' class="block px-4 py-2 text-sm capitalize text-red-700 hover:bg-red-500 hover:text-white">
				Déconnexion
			</a>
		</div>
	</div>
</div>
